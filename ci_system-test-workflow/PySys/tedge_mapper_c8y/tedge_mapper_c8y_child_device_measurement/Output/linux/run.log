2022-03-04 13:12:17,619 INFO  ==============================================================
2022-03-04 13:12:17,620 INFO  Id:    tedge_mapper_c8y_child_device_measurement
2022-03-04 13:12:17,620 INFO  Dir:   tedge_mapper_c8y/
2022-03-04 13:12:17,620 INFO  Title: Validate that measurements sent to tedge/measurements/child topic gets mapped as the child device's measurement in Cumulocity
2022-03-04 13:12:17,621 DEBUG Execution order hint: 0.0
2022-03-04 13:12:17,621 INFO  ==============================================================
2022-03-04 13:12:17,628 DEBUG EnvironmentC8y Setup
2022-03-04 13:12:17,629 INFO  EnvironmentC8y Setup
2022-03-04 13:12:17,630 DEBUG Process parameters for systemctl<serv_mapper1>
  command line : /usr/bin/systemctl status tedge-mapper-c8y
    arg #1     : status
    arg #2     : tedge-mapper-c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper1.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper1.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:17,635 DEBUG Waiting up to 600 secs for process systemctl<serv_mapper1> (pid 30088)
2022-03-04 13:12:17,838 INFO  Executed systemctl<serv_mapper1>, exit status 3
2022-03-04 13:12:17,891 DEBUG Process parameters for sudo<tedge_connect_c8y>
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_connect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_connect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:17,896 DEBUG Waiting up to 600 secs for process sudo<tedge_connect_c8y> (pid 30092)
2022-03-04 13:12:27,849 INFO  Executed sudo<tedge_connect_c8y>, exit status 0
2022-03-04 13:12:27,850 DEBUG Process parameters for sudo<tedge_connect_c8y_test>
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y --test
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
    arg #4     : --test
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_connect_c8y_test.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_connect_c8y_test.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:27,855 DEBUG Waiting up to 600 secs for process sudo<tedge_connect_c8y_test> (pid 30206)
2022-03-04 13:12:28,109 INFO  Executed sudo<tedge_connect_c8y_test>, exit status 0
2022-03-04 13:12:28,110 DEBUG Process parameters for systemctl<serv_mosq2>
  command line : /usr/bin/systemctl status mosquitto
    arg #1     : status
    arg #2     : mosquitto
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mosq2.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mosq2.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:28,115 DEBUG Waiting up to 600 secs for process systemctl<serv_mosq2> (pid 30208)
2022-03-04 13:12:28,321 INFO  Executed systemctl<serv_mosq2>, exit status 0
2022-03-04 13:12:28,322 DEBUG Process parameters for systemctl<serv_mapper3>
  command line : /usr/bin/systemctl status tedge-mapper-c8y
    arg #1     : status
    arg #2     : tedge-mapper-c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper3.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper3.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:28,328 DEBUG Waiting up to 600 secs for process systemctl<serv_mapper3> (pid 30209)
2022-03-04 13:12:28,533 INFO  Executed systemctl<serv_mapper3>, exit status 0
2022-03-04 13:12:28,975 INFO  Assert that (actual == expected) with actual=None, expected=None ... passed
2022-03-04 13:12:28,976 DEBUG --- test execute
2022-03-04 13:12:28,976 DEBUG Process parameters for tedge_pub
  command line : /usr/bin/tedge mqtt pub tedge/measurements/te-child-f3af64bb '{"temperature": 12, "time": "2021-01-01T10:10:10.100+02:00"}'
    arg #1     : mqtt
    arg #2     : pub
    arg #3     : tedge/measurements/te-child-f3af64bb
    arg #4     : {"temperature": 12, "time": "2021-01-01T10:10:10.100+02:00"}
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.err
  environment  : HOME=/home/pi
2022-03-04 13:12:28,981 DEBUG Waiting up to 600 secs for process tedge_pub (pid 30211)
2022-03-04 13:12:29,185 INFO  Executed tedge_pub, exit status 0
2022-03-04 13:12:29,186 DEBUG Process parameters for tedge_pub
  command line : /usr/bin/tedge mqtt pub tedge/measurements/te-child-f3af64bb '{"temperature": 11}'
    arg #1     : mqtt
    arg #2     : pub
    arg #3     : tedge/measurements/te-child-f3af64bb
    arg #4     : {"temperature": 11}
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.err
  environment  : HOME=/home/pi
2022-03-04 13:12:29,191 DEBUG Waiting up to 600 secs for process tedge_pub (pid 30212)
2022-03-04 13:12:29,394 INFO  Executed tedge_pub, exit status 0
2022-03-04 13:12:29,397 DEBUG Process parameters for tedge_pub
  command line : /usr/bin/tedge mqtt pub tedge/measurements '{"temperature": 5}'
    arg #1     : mqtt
    arg #2     : pub
    arg #3     : tedge/measurements
    arg #4     : {"temperature": 5}
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.err
  environment  : HOME=/home/pi
2022-03-04 13:12:29,404 DEBUG Waiting up to 600 secs for process tedge_pub (pid 30213)
2022-03-04 13:12:29,609 INFO  Executed tedge_pub, exit status 0
2022-03-04 13:12:29,610 DEBUG Process parameters for tedge_pub
  command line : /usr/bin/tedge mqtt pub tedge/measurements/other-te-child-03ccedd3 '{"temperature": 6}'
    arg #1     : mqtt
    arg #2     : pub
    arg #3     : tedge/measurements/other-te-child-03ccedd3
    arg #4     : {"temperature": 6}
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.err
  environment  : HOME=/home/pi
2022-03-04 13:12:29,615 DEBUG Waiting up to 600 secs for process tedge_pub (pid 30214)
2022-03-04 13:12:29,818 INFO  Executed tedge_pub, exit status 0
2022-03-04 13:12:29,819 DEBUG Process parameters for tedge_pub
  command line : /usr/bin/tedge mqtt pub tedge/measurements/te-child-f3af64bb '{"temperature": 10}'
    arg #1     : mqtt
    arg #2     : pub
    arg #3     : tedge/measurements/te-child-f3af64bb
    arg #4     : {"temperature": 10}
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_pub.err
  environment  : HOME=/home/pi
2022-03-04 13:12:29,824 DEBUG Waiting up to 600 secs for process tedge_pub (pid 30215)
2022-03-04 13:12:30,027 INFO  Executed tedge_pub, exit status 0
2022-03-04 13:12:31,917 DEBUG --- test validate
2022-03-04 13:12:32,048 INFO  {
    "self": "https://t493319102.eu-latest.cumulocity.com/measurement/measurements/15289610",
    "time": "2022-03-04T12:12:29.987Z",
    "id": "15289610",
    "source": {
        "self": "https://t493319102.eu-latest.cumulocity.com/inventory/managedObjects/15289604",
        "id": "15289604"
    },
    "type": "ThinEdgeMeasurement",
    "temperature": {
        "temperature": {
            "value": 10.0
        }
    }
}
2022-03-04 13:12:32,049 INFO  Assert that (actual == expected) with actual="ThinEdgeMeasurement", expected="ThinEdgeMeasurement" ... passed
2022-03-04 13:12:32,050 INFO  Assert that (actual == expected) with actual=10.0, expected=10 ... passed
2022-03-04 13:12:32,050 INFO  {
    "self": "https://t493319102.eu-latest.cumulocity.com/measurement/measurements/15289606",
    "time": "2022-03-04T12:12:29.357Z",
    "id": "15289606",
    "source": {
        "self": "https://t493319102.eu-latest.cumulocity.com/inventory/managedObjects/15289604",
        "id": "15289604"
    },
    "type": "ThinEdgeMeasurement",
    "temperature": {
        "temperature": {
            "value": 11.0
        }
    }
}
2022-03-04 13:12:32,051 INFO  Assert that (actual == expected) with actual="ThinEdgeMeasurement", expected="ThinEdgeMeasurement" ... passed
2022-03-04 13:12:32,052 INFO  Assert that (actual == expected) with actual=11.0, expected=11 ... passed
2022-03-04 13:12:32,052 INFO  {
    "self": "https://t493319102.eu-latest.cumulocity.com/measurement/measurements/15289605",
    "time": "2021-01-01T10:10:10.100+02:00",
    "id": "15289605",
    "source": {
        "self": "https://t493319102.eu-latest.cumulocity.com/inventory/managedObjects/15289604",
        "id": "15289604"
    },
    "type": "ThinEdgeMeasurement",
    "temperature": {
        "temperature": {
            "value": 12.0
        }
    }
}
2022-03-04 13:12:32,053 INFO  Assert that (actual == expected) with actual="ThinEdgeMeasurement", expected="ThinEdgeMeasurement" ... passed
2022-03-04 13:12:32,053 INFO  Assert that (actual == expected) with actual=12.0, expected=12 ... passed
2022-03-04 13:12:32,054 INFO  Assert that (actual == expected) with actual="2021-01-01T10:10:10.100+02:00", expected="2021-01-01T10:10:10.100+02:00" ... passed
2022-03-04 13:12:32,198 INFO  {
    "self": "https://t493319102.eu-latest.cumulocity.com/measurement/measurements/15289609",
    "time": "2022-03-04T12:12:29.778Z",
    "id": "15289609",
    "source": {
        "self": "https://t493319102.eu-latest.cumulocity.com/inventory/managedObjects/15289608",
        "id": "15289608"
    },
    "type": "ThinEdgeMeasurement",
    "temperature": {
        "temperature": {
            "value": 6.0
        }
    }
}
2022-03-04 13:12:32,199 INFO  Assert that (actual == expected) with actual="ThinEdgeMeasurement", expected="ThinEdgeMeasurement" ... passed
2022-03-04 13:12:32,200 INFO  Assert that (actual == expected) with actual=6.0, expected=6 ... passed
2022-03-04 13:12:32,329 INFO  {
    "self": "https://t493319102.eu-latest.cumulocity.com/measurement/measurements/15289607",
    "time": "2022-03-04T12:12:29.584Z",
    "id": "15289607",
    "source": {
        "self": "https://t493319102.eu-latest.cumulocity.com/inventory/managedObjects/15277088",
        "id": "15277088"
    },
    "type": "ThinEdgeMeasurement",
    "temperature": {
        "temperature": {
            "value": 5.0
        }
    }
}
2022-03-04 13:12:32,330 INFO  Assert that (actual == expected) with actual="ThinEdgeMeasurement", expected="ThinEdgeMeasurement" ... passed
2022-03-04 13:12:32,331 INFO  Assert that (actual == expected) with actual=5.0, expected=5 ... passed
2022-03-04 13:12:32,332 DEBUG --- test cleanup
2022-03-04 13:12:32,333 INFO  
2022-03-04 13:12:32,333 INFO  cleanup:
2022-03-04 13:12:32,333 DEBUG Running registered cleanup function: <bound method TedgeMapperC8yChildDevice.test_cleanup of <TedgeMapperC8yChildDevice object at 0x752c69b0>>
2022-03-04 13:12:32,621 DEBUG Running registered cleanup function: <bound method EnvironmentC8y.myenvcleanup of <TedgeMapperC8yChildDevice object at 0x752c69b0>>
2022-03-04 13:12:32,623 DEBUG EnvironmentC8y Cleanup
2022-03-04 13:12:32,676 DEBUG Process parameters for sudo<tedge_disconnect_c8y>
  command line : /usr/bin/sudo /usr/bin/tedge disconnect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : disconnect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_disconnect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/tedge_disconnect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:32,682 DEBUG Waiting up to 600 secs for process sudo<tedge_disconnect_c8y> (pid 30219)
2022-03-04 13:12:34,743 INFO  Executed sudo<tedge_disconnect_c8y>, exit status 0
2022-03-04 13:12:34,744 DEBUG Process parameters for systemctl<serv_mapper5>
  command line : /usr/bin/systemctl status tedge-mapper-c8y
    arg #1     : status
    arg #2     : tedge-mapper-c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper5.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/tedge_mapper_c8y/tedge_mapper_c8y_child_device_measurement/Output/linux/serv_mapper5.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-04 13:12:34,749 DEBUG Waiting up to 600 secs for process systemctl<serv_mapper5> (pid 30259)
2022-03-04 13:12:34,952 INFO  Executed systemctl<serv_mapper5>, exit status 3
2022-03-04 13:12:34,953 DEBUG ProcessUser cleanup function done.
2022-03-04 13:12:34,955 INFO  
2022-03-04 13:12:34,955 INFO  Test duration: 17.33 secs
2022-03-04 13:12:34,956 INFO  Test final outcome:  PASSED
2022-03-04 13:12:34,956 INFO  
