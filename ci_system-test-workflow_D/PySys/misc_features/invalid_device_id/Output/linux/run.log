2022-03-02 08:41:51,546 INFO  ==============================================================
2022-03-02 08:41:51,547 INFO  Id:    invalid_device_id
2022-03-02 08:41:51,548 INFO  Dir:   misc_features/
2022-03-02 08:41:51,548 INFO  Title: Invalid Device ID
2022-03-02 08:41:51,549 DEBUG Execution order hint: 0.0
2022-03-02 08:41:51,549 INFO  ==============================================================
2022-03-02 08:41:51,555 DEBUG Process parameters for sudo<create_cert_dir>
  command line : /usr/bin/sudo mkdir /tmp/test-device-certs
    arg #1     : mkdir
    arg #2     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/create_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/create_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:51,560 DEBUG Waiting up to 600 secs for process sudo<create_cert_dir> (pid 11787)
2022-03-02 08:41:51,915 INFO  Executed sudo<create_cert_dir>, exit status 0
2022-03-02 08:41:51,918 DEBUG Process parameters for sudo<create_cert_dir>
  command line : /usr/bin/sudo chown mosquitto:mosquitto /tmp/test-device-certs
    arg #1     : chown
    arg #2     : mosquitto:mosquitto
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/create_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/create_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:51,925 DEBUG Waiting up to 600 secs for process sudo<create_cert_dir> (pid 11789)
2022-03-02 08:41:52,231 INFO  Executed sudo<create_cert_dir>, exit status 0
2022-03-02 08:41:52,233 DEBUG Process parameters for sudo<set_cert_path>
  command line : /usr/bin/sudo /usr/bin/tedge config set device.cert.path /tmp/test-device-certs/tedge-certificate.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.cert.path
    arg #5     : /tmp/test-device-certs/tedge-certificate.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/set_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/set_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:52,240 DEBUG Waiting up to 600 secs for process sudo<set_cert_path> (pid 11791)
2022-03-02 08:41:52,546 INFO  Executed sudo<set_cert_path>, exit status 0
2022-03-02 08:41:52,548 DEBUG Process parameters for sudo<set_key_path>
  command line : /usr/bin/sudo /usr/bin/tedge config set device.key.path /tmp/test-device-certs/tedge-private-key.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.key.path
    arg #5     : /tmp/test-device-certs/tedge-private-key.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/set_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/set_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:52,555 DEBUG Waiting up to 600 secs for process sudo<set_key_path> (pid 11793)
2022-03-02 08:41:52,861 INFO  Executed sudo<set_key_path>, exit status 0
2022-03-02 08:41:52,862 DEBUG --- test execute
2022-03-02 08:41:52,863 DEBUG Process parameters for sudo<cert_create>
  command line : /usr/bin/sudo /usr/bin/tedge cert create --device-id ''"'"':?=()*@!%,-.123ThinEdgeDevice-id'
    arg #1     : /usr/bin/tedge
    arg #2     : cert
    arg #3     : create
    arg #4     : --device-id
    arg #5     : ':?=()*@!%,-.123ThinEdgeDevice-id
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/cert_create.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/cert_create.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:52,869 DEBUG Waiting up to 600 secs for process sudo<cert_create> (pid 11795)
2022-03-02 08:41:53,173 INFO  Executed sudo<cert_create>, exit status 1
2022-03-02 08:41:53,174 DEBUG --- test validate
2022-03-02 08:41:53,175 DEBUG Performing regex contains=True grep on file: /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/cert_create.err
2022-03-02 08:41:53,180 DEBUG Grep on input file cert_create.err successfully matched expression "DeviceID Error" with line: '    0: DeviceID Error\n'
2022-03-02 08:41:53,181 INFO  Grep on input file cert_create.err ... passed
2022-03-02 08:41:53,186 DEBUG --- test cleanup
2022-03-02 08:41:53,187 INFO  
2022-03-02 08:41:53,188 INFO  cleanup:
2022-03-02 08:41:53,188 DEBUG Running registered cleanup function: <bound method InvalidDeviceId.device_id_cleanup of <InvalidDeviceId object at 0x75da5d30>>
2022-03-02 08:41:53,190 DEBUG Process parameters for sudo<unset_cert_path>
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.cert.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.cert.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/unset_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/unset_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:53,196 DEBUG Waiting up to 600 secs for process sudo<unset_cert_path> (pid 11797)
2022-03-02 08:41:53,501 INFO  Executed sudo<unset_cert_path>, exit status 0
2022-03-02 08:41:53,503 DEBUG Process parameters for sudo<unset_key_path>
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.key.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.key.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/unset_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/unset_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:53,510 DEBUG Waiting up to 600 secs for process sudo<unset_key_path> (pid 11799)
2022-03-02 08:41:53,815 INFO  Executed sudo<unset_key_path>, exit status 0
2022-03-02 08:41:53,817 DEBUG Process parameters for sudo<remove_cert_dir>
  command line : /usr/bin/sudo rm -rf /tmp/test-device-certs
    arg #1     : rm
    arg #2     : -rf
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/remove_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/invalid_device_id/Output/linux/remove_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-02 08:41:53,824 DEBUG Waiting up to 600 secs for process sudo<remove_cert_dir> (pid 11801)
2022-03-02 08:41:54,079 INFO  Executed sudo<remove_cert_dir>, exit status 0
2022-03-02 08:41:54,080 DEBUG ProcessUser cleanup function done.
2022-03-02 08:41:54,082 INFO  
2022-03-02 08:41:54,082 INFO  Test duration: 2.54 secs
2022-03-02 08:41:54,083 INFO  Test final outcome:  PASSED
2022-03-02 08:41:54,084 INFO  
