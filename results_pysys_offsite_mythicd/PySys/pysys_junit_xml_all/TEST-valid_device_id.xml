<?xml version="1.0" encoding="utf-8"?>
<testsuite failures="1" name="valid_device_id" skipped="0" tests="1" time="42.56" timestamp="2022-04-11T09:41:31">
	<testcase classname="ValidateValidDeviceId" name="valid_device_id">
		<failure message="FAILED: Grep on tedge_connect_c8y_test.out contains &quot;successful&quot;" type="FAILED"/>
		<system-out>09:40:48 DEBUG deletedir failed to update permissions and delete /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux on this attempt: [Errno 2] No such file or directory: '/home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux'
09:40:48 INFO  ==============================================================
09:40:48 INFO  Id:    valid_device_id
09:40:48 INFO  Dir:   misc_features/
09:40:48 INFO  Title: Valid device ID
09:40:48 DEBUG Execution order hint: 0.0
09:40:48 INFO  ==============================================================
09:40:48 INFO  Restarting mosquitto too frequently in the last 10 seconds. It was only up for 5 seconds
09:40:48 INFO  Delaying execution by 6 seconds
09:40:54 DEBUG Process parameters for sudo&lt;tedge_disconnect_c8y&gt;
  command line : /usr/bin/sudo /usr/bin/tedge disconnect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : disconnect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:54 DEBUG Waiting up to 600 secs for process sudo&lt;tedge_disconnect_c8y&gt; (pid 12107)
09:40:55 INFO  Executed sudo&lt;tedge_disconnect_c8y&gt;, exit status 0
09:40:55 DEBUG Process parameters for sudo&lt;create_cert_dir&gt;
  command line : /usr/bin/sudo mkdir /tmp/test-device-certs
    arg #1     : mkdir
    arg #2     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/create_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/create_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:55 DEBUG Waiting up to 600 secs for process sudo&lt;create_cert_dir&gt; (pid 12109)
09:40:55 INFO  Executed sudo&lt;create_cert_dir&gt;, exit status 0
09:40:55 DEBUG Process parameters for sudo&lt;change_owner_of_dir&gt;
  command line : /usr/bin/sudo chown mosquitto:mosquitto /tmp/test-device-certs
    arg #1     : chown
    arg #2     : mosquitto:mosquitto
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/change_owner_of_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/change_owner_of_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:55 DEBUG Waiting up to 600 secs for process sudo&lt;change_owner_of_dir&gt; (pid 12111)
09:40:56 INFO  Executed sudo&lt;change_owner_of_dir&gt;, exit status 0
09:40:56 DEBUG Process parameters for sudo&lt;set_cert_path&gt;
  command line : /usr/bin/sudo /usr/bin/tedge config set device.cert.path /tmp/test-device-certs/tedge-certificate.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.cert.path
    arg #5     : /tmp/test-device-certs/tedge-certificate.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:56 DEBUG Waiting up to 600 secs for process sudo&lt;set_cert_path&gt; (pid 12113)
09:40:56 INFO  Executed sudo&lt;set_cert_path&gt;, exit status 0
09:40:56 DEBUG Process parameters for sudo&lt;set_key_path&gt;
  command line : /usr/bin/sudo /usr/bin/tedge config set device.key.path /tmp/test-device-certs/tedge-private-key.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.key.path
    arg #5     : /tmp/test-device-certs/tedge-private-key.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:56 DEBUG Waiting up to 600 secs for process sudo&lt;set_key_path&gt; (pid 12115)
09:40:57 INFO  Executed sudo&lt;set_key_path&gt;, exit status 0
09:40:57 DEBUG --- test execute
09:40:57 DEBUG Process parameters for sudo&lt;cert_create&gt;
  command line : /usr/bin/sudo /usr/bin/tedge cert create --device-id ''&quot;'&quot;'?=()*@!%,-.123ThinEdgeDevice-id'
    arg #1     : /usr/bin/tedge
    arg #2     : cert
    arg #3     : create
    arg #4     : --device-id
    arg #5     : '?=()*@!%,-.123ThinEdgeDevice-id
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_create.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_create.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:40:57 DEBUG Waiting up to 600 secs for process sudo&lt;cert_create&gt; (pid 12117)
09:40:57 INFO  Executed sudo&lt;cert_create&gt;, exit status 0
09:40:57 DEBUG Process parameters for sudo&lt;cert_upload&gt;
  command line : /usr/bin/sudo -E /usr/bin/tedge cert upload c8y --user githubcimichael
    arg #1     : -E
    arg #2     : /usr/bin/tedge
    arg #3     : cert
    arg #4     : upload
    arg #5     : c8y
    arg #6     : --user
    arg #7     : githubcimichael
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_upload.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_upload.err
  environment  : C8YPASS=%-SL(m96NW3e_
09:40:57 DEBUG Waiting up to 600 secs for process sudo&lt;cert_upload&gt; (pid 12119)
09:40:59 INFO  Executed sudo&lt;cert_upload&gt;, exit status 0
09:41:00 DEBUG Process parameters for sudo&lt;tedge_connect_c8y&gt;
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:00 DEBUG Waiting up to 600 secs for process sudo&lt;tedge_connect_c8y&gt; (pid 12126)
09:41:14 INFO  Executed sudo&lt;tedge_connect_c8y&gt;, exit status 0, duration 13 secs
09:41:14 DEBUG Process parameters for sudo&lt;tedge_connect_c8y_test&gt;
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y --test
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
    arg #4     : --test
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:14 DEBUG Waiting up to 600 secs for process sudo&lt;tedge_connect_c8y_test&gt; (pid 12235)
09:41:24 INFO  Executed sudo&lt;tedge_connect_c8y_test&gt;, exit status 0
09:41:24 DEBUG --- test validate
09:41:24 DEBUG Performing regex contains=True grep on file: /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.out
09:41:24 DEBUG Grep on file tedge_connect_c8y.out successfully matched expression &quot;successful&quot; with line: 'Connection check is successful.\n'
09:41:24 INFO  Grep on file tedge_connect_c8y.out ... passed
09:41:24 DEBUG Performing regex contains=True grep on file: /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.out
09:41:25 WARN  Grep on tedge_connect_c8y_test.out contains &quot;successful&quot; ... failed [run.py:108]
09:41:25 DEBUG --- test cleanup
09:41:25 INFO  
09:41:25 INFO  cleanup:
09:41:25 DEBUG Running registered cleanup function: &lt;bound method ValidateValidDeviceId.device_id_cleanup of &lt;ValidateValidDeviceId object at 0x75d74ff0&gt;&gt;
09:41:25 DEBUG Process parameters for sudo&lt;tedge_disconnect_c8y&gt;
  command line : /usr/bin/sudo /usr/bin/tedge disconnect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : disconnect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:25 DEBUG Waiting up to 600 secs for process sudo&lt;tedge_disconnect_c8y&gt; (pid 12248)
09:41:29 INFO  Executed sudo&lt;tedge_disconnect_c8y&gt;, exit status 0
09:41:29 DEBUG Process parameters for sudo&lt;unset_cert_path&gt;
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.cert.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.cert.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:29 DEBUG Waiting up to 600 secs for process sudo&lt;unset_cert_path&gt; (pid 12288)
09:41:29 INFO  Executed sudo&lt;unset_cert_path&gt;, exit status 0
09:41:29 DEBUG Process parameters for sudo&lt;unset_key_path&gt;
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.key.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.key.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:29 DEBUG Waiting up to 600 secs for process sudo&lt;unset_key_path&gt; (pid 12290)
09:41:30 INFO  Executed sudo&lt;unset_key_path&gt;, exit status 0
09:41:30 DEBUG Process parameters for sudo&lt;remove_cert_dir&gt;
  command line : /usr/bin/sudo rm -rf /tmp/test-device-certs
    arg #1     : rm
    arg #2     : -rf
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/remove_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/remove_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
09:41:30 DEBUG Waiting up to 600 secs for process sudo&lt;remove_cert_dir&gt; (pid 12292)
09:41:31 INFO  Executed sudo&lt;remove_cert_dir&gt;, exit status 0
09:41:31 DEBUG ProcessUser cleanup function done.
09:41:31 INFO  
09:41:31 INFO  Test duration: 42.56 secs
09:41:31 INFO  Test final outcome:  FAILED
09:41:31 INFO  Test outcome reason: Grep on tedge_connect_c8y_test.out contains &quot;successful&quot;
09:41:31 INFO  
</system-out>
	</testcase>
</testsuite>
