2022-03-15 17:42:45,424 INFO  ==============================================================
2022-03-15 17:42:45,424 INFO  Id:    valid_device_id
2022-03-15 17:42:45,425 INFO  Dir:   misc_features/
2022-03-15 17:42:45,425 INFO  Title: Valid device ID
2022-03-15 17:42:45,426 DEBUG Execution order hint: 0.0
2022-03-15 17:42:45,426 INFO  ==============================================================
2022-03-15 17:42:45,519 INFO  Restarting mosquitto too frequently in the last 10 seconds. It was only up for 3 seconds
2022-03-15 17:42:45,520 INFO  Delaying execution by 8 seconds
2022-03-15 17:42:53,531 DEBUG Process parameters for sudo<tedge_disconnect_c8y>
  command line : /usr/bin/sudo /usr/bin/tedge disconnect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : disconnect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:53,540 DEBUG Waiting up to 600 secs for process sudo<tedge_disconnect_c8y> (pid 8747)
2022-03-15 17:42:53,845 INFO  Executed sudo<tedge_disconnect_c8y>, exit status 0
2022-03-15 17:42:53,847 DEBUG Process parameters for sudo<create_cert_dir>
  command line : /usr/bin/sudo mkdir /tmp/test-device-certs
    arg #1     : mkdir
    arg #2     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/create_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/create_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:53,853 DEBUG Waiting up to 600 secs for process sudo<create_cert_dir> (pid 8749)
2022-03-15 17:42:54,159 INFO  Executed sudo<create_cert_dir>, exit status 0
2022-03-15 17:42:54,161 DEBUG Process parameters for sudo<change_owner_of_dir>
  command line : /usr/bin/sudo chown mosquitto:mosquitto /tmp/test-device-certs
    arg #1     : chown
    arg #2     : mosquitto:mosquitto
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/change_owner_of_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/change_owner_of_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:54,169 DEBUG Waiting up to 600 secs for process sudo<change_owner_of_dir> (pid 8751)
2022-03-15 17:42:54,475 INFO  Executed sudo<change_owner_of_dir>, exit status 0
2022-03-15 17:42:54,477 DEBUG Process parameters for sudo<set_cert_path>
  command line : /usr/bin/sudo /usr/bin/tedge config set device.cert.path /tmp/test-device-certs/tedge-certificate.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.cert.path
    arg #5     : /tmp/test-device-certs/tedge-certificate.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:54,485 DEBUG Waiting up to 600 secs for process sudo<set_cert_path> (pid 8754)
2022-03-15 17:42:54,791 INFO  Executed sudo<set_cert_path>, exit status 0
2022-03-15 17:42:54,793 DEBUG Process parameters for sudo<set_key_path>
  command line : /usr/bin/sudo /usr/bin/tedge config set device.key.path /tmp/test-device-certs/tedge-private-key.pem
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : set
    arg #4     : device.key.path
    arg #5     : /tmp/test-device-certs/tedge-private-key.pem
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/set_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:54,801 DEBUG Waiting up to 600 secs for process sudo<set_key_path> (pid 8756)
2022-03-15 17:42:55,106 INFO  Executed sudo<set_key_path>, exit status 0
2022-03-15 17:42:55,107 DEBUG --- test execute
2022-03-15 17:42:55,109 DEBUG Process parameters for sudo<cert_create>
  command line : /usr/bin/sudo /usr/bin/tedge cert create --device-id ''"'"'?=()*@!%,-.123ThinEdgeDevice-id'
    arg #1     : /usr/bin/tedge
    arg #2     : cert
    arg #3     : create
    arg #4     : --device-id
    arg #5     : '?=()*@!%,-.123ThinEdgeDevice-id
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_create.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_create.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:55,114 DEBUG Waiting up to 600 secs for process sudo<cert_create> (pid 8759)
2022-03-15 17:42:55,419 INFO  Executed sudo<cert_create>, exit status 0
2022-03-15 17:42:55,421 DEBUG Process parameters for sudo<cert_upload>
  command line : /usr/bin/sudo -E /usr/bin/tedge cert upload c8y --user githubcimichael
    arg #1     : -E
    arg #2     : /usr/bin/tedge
    arg #3     : cert
    arg #4     : upload
    arg #5     : c8y
    arg #6     : --user
    arg #7     : githubcimichael
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_upload.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/cert_upload.err
  environment  : C8YPASS=%-SL(m96NW3e_
2022-03-15 17:42:55,428 DEBUG Waiting up to 600 secs for process sudo<cert_upload> (pid 8761)
2022-03-15 17:42:56,235 INFO  Executed sudo<cert_upload>, exit status 0
2022-03-15 17:42:57,330 DEBUG Process parameters for sudo<tedge_connect_c8y>
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:42:57,335 DEBUG Waiting up to 600 secs for process sudo<tedge_connect_c8y> (pid 8768)
2022-03-15 17:43:07,631 INFO  Executed sudo<tedge_connect_c8y>, exit status 0
2022-03-15 17:43:07,635 DEBUG Process parameters for sudo<tedge_connect_c8y_test>
  command line : /usr/bin/sudo /usr/bin/tedge connect c8y --test
    arg #1     : /usr/bin/tedge
    arg #2     : connect
    arg #3     : c8y
    arg #4     : --test
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:43:07,642 DEBUG Waiting up to 600 secs for process sudo<tedge_connect_c8y_test> (pid 8878)
2022-03-15 17:43:07,997 INFO  Executed sudo<tedge_connect_c8y_test>, exit status 0
2022-03-15 17:43:07,998 DEBUG --- test validate
2022-03-15 17:43:07,998 DEBUG Performing regex contains=True grep on file: /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y.out
2022-03-15 17:43:08,002 DEBUG Grep on input file tedge_connect_c8y.out successfully matched expression "successful" with line: 'Connection check is successful.\n'
2022-03-15 17:43:08,003 INFO  Grep on input file tedge_connect_c8y.out ... passed
2022-03-15 17:43:08,003 DEBUG Performing regex contains=True grep on file: /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_connect_c8y_test.out
2022-03-15 17:43:08,006 DEBUG Grep on input file tedge_connect_c8y_test.out successfully matched expression "successful" with line: 'Connection check to c8y cloud is successful.\n'
2022-03-15 17:43:08,007 INFO  Grep on input file tedge_connect_c8y_test.out ... passed
2022-03-15 17:43:08,011 DEBUG --- test cleanup
2022-03-15 17:43:08,012 INFO  
2022-03-15 17:43:08,013 INFO  cleanup:
2022-03-15 17:43:08,013 DEBUG Running registered cleanup function: <bound method ValidateValidDeviceId.device_id_cleanup of <ValidateValidDeviceId object at 0x75cf61d0>>
2022-03-15 17:43:08,082 INFO  Restarting mosquitto too frequently in the last 10 seconds. It was only up for 10 seconds
2022-03-15 17:43:08,083 INFO  Delaying execution by 1 seconds
2022-03-15 17:43:09,086 DEBUG Process parameters for sudo<tedge_disconnect_c8y>
  command line : /usr/bin/sudo /usr/bin/tedge disconnect c8y
    arg #1     : /usr/bin/tedge
    arg #2     : disconnect
    arg #3     : c8y
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/tedge_disconnect_c8y.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:43:09,094 DEBUG Waiting up to 600 secs for process sudo<tedge_disconnect_c8y> (pid 8889)
2022-03-15 17:43:11,271 INFO  Executed sudo<tedge_disconnect_c8y>, exit status 0
2022-03-15 17:43:11,272 DEBUG Process parameters for sudo<unset_cert_path>
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.cert.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.cert.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_cert_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_cert_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:43:11,277 DEBUG Waiting up to 600 secs for process sudo<unset_cert_path> (pid 8932)
2022-03-15 17:43:11,606 INFO  Executed sudo<unset_cert_path>, exit status 0
2022-03-15 17:43:11,608 DEBUG Process parameters for sudo<unset_key_path>
  command line : /usr/bin/sudo /usr/bin/tedge config unset device.key.path
    arg #1     : /usr/bin/tedge
    arg #2     : config
    arg #3     : unset
    arg #4     : device.key.path
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_key_path.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/unset_key_path.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:43:11,615 DEBUG Waiting up to 600 secs for process sudo<unset_key_path> (pid 8934)
2022-03-15 17:43:11,920 INFO  Executed sudo<unset_key_path>, exit status 0
2022-03-15 17:43:11,922 DEBUG Process parameters for sudo<remove_cert_dir>
  command line : /usr/bin/sudo rm -rf /tmp/test-device-certs
    arg #1     : rm
    arg #2     : -rf
    arg #3     : /tmp/test-device-certs
  working dir  : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux
  stdout       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/remove_cert_dir.out
  stderr       : /home/pi/actions-runner/_work/thin-edge.io/thin-edge.io/tests/PySys/misc_features/valid_device_id/Output/linux/remove_cert_dir.err
  environment  : LD_LIBRARY_PATH=/usr/lib
  environment  : PATH=/bin:/usr/bin:/usr/sbin:/usr/local/bin
                   #1  /bin
                   #2  /usr/bin
                   #3  /usr/sbin
                   #4  /usr/local/bin
2022-03-15 17:43:11,930 DEBUG Waiting up to 600 secs for process sudo<remove_cert_dir> (pid 8936)
2022-03-15 17:43:12,236 INFO  Executed sudo<remove_cert_dir>, exit status 0
2022-03-15 17:43:12,237 DEBUG ProcessUser cleanup function done.
2022-03-15 17:43:12,241 INFO  
2022-03-15 17:43:12,242 INFO  Test duration: 26.82 secs
2022-03-15 17:43:12,243 INFO  Test final outcome:  PASSED
2022-03-15 17:43:12,244 INFO  
